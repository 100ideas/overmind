import { h } from 'overmind-components'
import { Tab } from '../../app/types'
import { Component } from '../../app'
import * as styles from './styles'
import Tabs from '../Tabs'
import Actions from '../Actions'

import Console from '../Console'
import State from '../State'
import Components from '../Components'
import Flushes from '../Flushes'

const pages: { [key in Tab]: Component } = {
  [Tab.Actions]: Actions,
  [Tab.Console]: Console,
  [Tab.State]: State,
  [Tab.Components]: Components,
  [Tab.Flushes]: Flushes,
  [Tab.Remove]: () => null,
}

const Workspace: Component = ({ state }) => {
  const Page = pages[state.currentTab]

  return (
    <div className={styles.wrapper}>
      <div className={styles.content}>
        <Tabs />
        <div className={styles.pageContainer}>
          <Page />
        </div>
      </div>
    </div>
  )
}

export default Workspace
