import { Context } from './'

export function getAppsFromStorage({ storage }: Context) {
  return storage.get('apps')
}

export function getCurrentPortFromStorage({ storage }: Context) {
  return storage.get('currentPort')
}

export function getNewPortFromState({ state }: Context) {
  return state.newPortValue
}

export function storeApps({ storage, state }: Context) {
  storage.set('apps', state.apps)
}

export function toNumber(_, value: string) {
  return String(Number(value))
}

export function connectCurrentPort(action: (message: any) => void) {
  return function connectCurrentPort({ state, connector }: Context) {
    connector.addPort(state.currentPort, action)
  }
}
