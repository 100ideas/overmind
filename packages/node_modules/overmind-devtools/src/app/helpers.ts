import { Context } from './'

export const getAppsFromStorage = ({ storage }: Context) => storage.get('apps')

export const getCurrentPortFromStorage = ({ storage }: Context) =>
  storage.get('currentPort')

export const getNewPortFromState = ({ state }: Context) => state.newPortValue

export const storeApps = ({ storage, state }: Context) =>
  storage.set('apps', state.apps)

export const toNumber = (_, value: string) => String(Number(value))

export const connectCurrentPort = (action: (message: any) => void) => ({
  state,
  connector,
}: Context) => connector.addPort(state.currentPort, action)
